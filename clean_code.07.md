## 오늘의 읽은 범위
~ 9장. 단위 테스트

## 기억하고 싶은 내용
- `p.146` 경계 인터페이스인 Map을 Sensors 안으로 숨긴다. 따라서 Map 인터페이스가 변하더라도 나머지 프로그램에는 영향을 미치지 않는다.
  ```java
    public class Sensors {
      private Map sensors = new HashMap();
      
      public Sensor getById(String id) {
        return (Sensor) sensors.get(id);
      }
    }
  ```
- `p.155` TDD 법칙 세 가지
  - 1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
  - 2. 컴파ㅣ른 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
  - 3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.
- `p.164` 테스트 당 assert 하나
- `p.167` 깨끗한 테스트는 다음 다섯 가지 규칙을 따르는데, 첫 글자를 따오면 FIRST가 된다.
  - **빠르게(Fast)** 테스트는 빨라야 한다.
  - **독립적으로(Independent)** 각 테스트는 서로 의존하면 안된다.
  - **반복가능하게(Repeatable)** 테스트는 어떤 환경에서도 반복 가능해야 한다. ...네트워크에 연결되지 않은 노트북 환경에서도 실행할 수 있어야 한다. ... 테스트가 돌아가지 않는 환경이 하나라도 있다면 테스트가 실패한 이유를 둘러댈 변경이 생긴다.
  - **자가검증하는(Self-Validating)** 테스트는 bool 값으로 결과를 내야 한다.
  - **적시에(Timely)** 테스트는 적시에 작성해야 한다.

## 읽은 소감
성급해서 테스트를 작성하지 않고, 그래서 나중에는 더 테스트를 작성하기 어려워지죠. 책에서 말한대로 **두려운 코드**가 되어 가는 줄 알면서도 쉽지 않긴 하더라고요. 
팀원들의 동의를 얻어내야하고 불필요를 필요악으로 만들어 낼 수 있는 좋은 묘안이 없을지 고민해봐요.

깨끗한 테스트 코드라는 주제로 책 한 권을 할애해도 모자란다고 결론을 시작한 것처럼, 뭔가 갈증이 해소되지 않은 듯한 느낌이에요. 차차 더 깊이 관심갖고 알아가도록 마음먹어요.
